# v0.1.1 - The Governing Phase

**Status:** ðŸš§ In Progress
**Goal:** Implement the core loop of the Governing Phase, allowing players to propose and vote on legislation.

## 1. Feature Overview

### 1.1. The Government Dashboard
**Owner:** Frontend Specialist
-   **Concept:** A new view replacing the Campaign Dashboard once the government is formed.
-   **Key Elements:**
    -   **Cabinet View:** Display the Prime Minister and Ministers (with portraits/names).
    -   **Stability Meter:** A visual gauge of government stability (0-100%).
    -   **Budget Tracker:** National Budget (distinct from campaign funds).
    -   **Action Panel:** "Propose Bill", "Manage Crisis" (placeholder), "Call Early Election".

### 1.2. The Legislative Engine
**Owner:** Logic Engineer
-   **Concept:** The core mechanic of governing. Passing laws to change game state.
-   **Mechanics:**
    -   **Bill Proposal:** Player selects an `Issue` (e.g., Taxation) and a `Target Position` (e.g., 60/100).
    -   **Voting Logic:**
        -   **Coalition Partners:** Generally vote YES, unless the bill violates the Coalition Agreement (to be simplified for v0.1.1 as "too far from their stance").
        -   **Opposition:** Votes based on ideological proximity.
    -   **Outcome:** If >76 votes (Simple Majority), the bill passes.
    -   **Consequences:**
        -   **Pass:** Policy state updates. Public opinion changes (simplified).
        -   **Fail:** Government Stability drops (-10%).

## 2. Technical Architecture

### 2.1. Data Model Updates (`src/types.ts`)
-   **New Interface:** `Bill`
    ```typescript
    interface Bill {
        id: string;
        issueId: IssueId;
        targetPosition: number;
        proposedBy: PartyId;
    }
    ```
-   **GameState Update:**
    -   `nationalBudget: number`
    -   `governmentStability: number` (0-100)

### 2.2. Engine Logic (`src/engine/legislation.ts`)
-   `calculateVote(bill: Bill, parliament: Parliament): VoteResult`
-   `applyBillEffects(bill: Bill, state: GameState): GameState`

## 3. UX & Narrative

### 3.1. User Flow
1.  **Transition:** After "Form Government" success, screen fades to Government Dashboard.
2.  **Action:** Player clicks "Propose Legislation".
3.  **Drafting:** Modal opens. Select "Taxation". Slider defaults to current value (e.g., 50). Player moves it to 70.
4.  **Preview:** UI shows "Projected Support: 85 Votes (Safe)".
5.  **Submit:** Player confirms.
6.  **Result:** Animation of votes tallying. "BILL PASSED! Taxes raised to 70%."

### 3.2. Narrative Tone
-   **Success:** "The coalition stands united. The reforms are signed into law."
-   **Failure:** "Disaster in Parliament! Coalition partners break ranks. The opposition jeers."

## 4. Implementation Steps

1.  **[ ] Architecture:** Update `types.ts` with `Bill` and `governmentStability`.
2.  **[ ] Logic:** Create `src/engine/legislation.ts`.
3.  **[ ] UI:** Create `src/components/GovernmentDashboard.tsx`.
4.  **[ ] UI:** Create `src/components/LegislationModal.tsx`.
5.  **[ ] Integration:** Wire it all up in `GameView.tsx`.
