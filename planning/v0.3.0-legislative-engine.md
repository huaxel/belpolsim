# v0.3.0 - The Legislative Engine

**Status:** ðŸŸ¡ In Progress
**Focus:** Governing Phase, Legislation, Coalition Friction

## 1. Overview
The core of the "Governing Phase" is the ability to pass laws. This version introduces the **Legislative Engine**, where the player (as Prime Minister or Coalition Partner) proposes bills, and the parliament votes on them.

The central drama is **Coalition Friction**:
-   Coalition partners *should* vote YES to support the government.
-   However, if a bill violates their ideology, they may rebel (vote NO).
-   Rebellions damage **Government Stability**.

## 2. New Features

### 2.1 The Legislative System (`src/core/systems/legislative.ts`)
A new ECS System responsible for:
-   **Bill Proposal:** Creating a `Bill` entity from an `Issue`.
-   **Voting Logic:** Calculating how each party votes.
    -   *Algorithm:* `VoteScore = (IdeologicalMatch * Weight) + (CoalitionLoyalty * Weight) + (PublicPressure * Weight)`
-   **Resolution:** Passing or rejecting the bill and applying effects (Stability change, Polling change).

### 2.2 Data Model Updates (`src/core/types.ts`)
-   **`BillData`**: Enhanced to track `voteBreakdown` (Who voted what).
-   **`Stats`**: Add `governmentStability` (0-100) to the Coalition entity or Global state.

### 2.3 Parliament UI (`src/features/governing/components/ParliamentView.tsx`)
-   **Proposal Interface:** Select Issue -> Select Stance (Left/Right) -> "Propose Bill".
-   **Voting Visualization:** Animate the seating chart (dots turning Green/Red).
-   **Result Screen:** "Bill Passed/Failed" with impact summary.

## 3. User Stories
-   *As the Prime Minister, I want to propose a tax cut so I can please my base.*
-   *As a Coalition Partner, I want to vote against a bill that hurts my voters, even if it angers the PM.*
-   *As a Player, I want to see the government collapse if stability reaches 0.*

## 4. Technical Plan
1.  **Schema:** Update `types.ts` with `Bill` and `Legislative` components.
2.  **Logic:** Implement `LegislativeSystem` with the "Vote Score" algorithm.
3.  **UI:** Create `ParliamentView` and integrate it into the `GameView`.
